[{"/Users/usuario/Desktop/progbasic/Laboratoria/TGP/src/components/addTask.jsx":"1","/Users/usuario/Desktop/progbasic/Laboratoria/TGP/src/pages/form.jsx":"2","/Users/usuario/Desktop/progbasic/Laboratoria/TGP/src/pages/home.jsx":"3","/Users/usuario/Desktop/progbasic/Laboratoria/TGP/src/components/frontbar.jsx":"4","/Users/usuario/Desktop/progbasic/Laboratoria/TGP/src/context/AuthContext.js":"5","/Users/usuario/Desktop/progbasic/Laboratoria/TGP/src/pages/documentDetail.jsx":"6"},{"size":1790,"mtime":1606339807000,"results":"7","hashOfConfig":"8"},{"size":7752,"mtime":1606339807000,"results":"9","hashOfConfig":"8"},{"size":3266,"mtime":1606339807000,"results":"10","hashOfConfig":"8"},{"size":747,"mtime":1606341464000,"results":"11","hashOfConfig":"8"},{"size":898,"mtime":1606341242000,"results":"12","hashOfConfig":"8"},{"size":1697,"mtime":1606341685000,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"18wgc9",{"filePath":"16","messages":"17","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"18","usedDeprecatedRules":"19"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/usuario/Desktop/progbasic/Laboratoria/TGP/src/components/addTask.jsx",[],"/Users/usuario/Desktop/progbasic/Laboratoria/TGP/src/pages/form.jsx",["28","29"],"import React, { useState } from \"react\";\nimport { storage } from \"../firebase/firebase.config\";\nimport { addUser } from \"../controllers/user\";\nimport { useHistory } from \"react-router-dom\";\nimport { Button, Form, Col, Container } from \"react-bootstrap\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport MenuNav from \"../components/menu\"\nimport FrontBar from \"../components/frontbar\"\nimport \"../style/form.css\";\nimport \"../style/frontBar.css\";\nimport add from '../img/add.png';\nimport user from '../img/user.png'\n\nexport default function FormUpload() {\n  const history = useHistory();\n  const [url, setURL] = useState(\"\");\n  const [entity, setEntity] = useState(\"\");\n  const [record, setRecord] = useState(\"\");\n  const [topic, setTopic] = useState(\"\");\n  const [area, setArea] = useState(\"\");\n  const [nowDate, setNowDate] = useState(\"\");\n  const [expiredDate, setExpiredDate] = useState(\"\");\n  const [reason, setReason] = useState(\"\");\n  const [others, setOthers] = useState(\"\");\n  const [labels, setLabels] = useState(\"\");\n  const [file, setFile] = useState(null);\n\n  const handleEntity = (e) => setEntity(e.currentTarget.value);\n  const handleRecord = (e) => setRecord(e.currentTarget.value);\n  const handleTopic = (e) => setTopic(e.currentTarget.value);\n  const handleArea = (e) => setArea(e.currentTarget.value);\n  const handleNowDate = (e) => setNowDate(e.currentTarget.value);\n  const handleExpiredDate = (e) => setExpiredDate(e.currentTarget.value);\n  const handleReason = (e) => setReason(e.currentTarget.value);\n  const handleOthers = (e) => setOthers(e.currentTarget.value);\n  const handleLabels = (e) => setLabels(e.currentTarget.value);\n\n  function handleUpload(file) {\n    const uploadTask = storage.ref(`oficios/${file.name}`).put(file);\n    uploadTask.on(\"state_changed\", console.log, console.error, () => {\n      storage\n        .ref(\"oficios\")\n        .child(file.name)\n        .getDownloadURL()\n        .then((url) => {\n          setURL(url);\n        });\n    });\n  }\n\n  function handleChange(e) {\n    const file = e.target.files[0];\n    handleUpload(file);\n    setFile(file);\n  }\n\n  // function addDocument(data) {\n  //   db.collection(\"expedientes\").add(data);\n  // }\n\n  function handleSend() {\n    const info = {\n      entidad: entity,\n      expediente: record,\n      tema: topic,\n      Area: area,\n      fecha_entrada: nowDate,\n      fecha_expiracion: expiredDate,\n      motivo: reason,\n      Otros: others,\n      etiquetas: labels,\n      archivo: url,\n    };\n\n    addUser(info)\n    .then((docRef) => {\n     history.push({\n    pathname: \"/home\",\n    state: { userId: docRef.id },\n      });\n    });\n\n    setEntity(\"\");\n    setRecord(\"\");\n    setReason(\"\");\n    setTopic(\"\");\n    setArea(\"\");\n    setNowDate(\"\");\n    setExpiredDate(\"\");\n    setReason(\"\");\n    setOthers(\"\");\n    setLabels(\"\");\n    setFile(null);\n  }\n\n  return (\n    <div className=\"page\">\n  \n\n      <MenuNav></MenuNav>\n      <div className=\"page-content\">\n      {/* <div className=\"front\">\n        <div className=\"front-user\">\n        <p className=\"front-user-text\"> Nombre usuario</p>\n        <img className=\"front-user-logo\" src={user} alt=\"\"/>\n        </div>\n      </div> */}\n      <FrontBar></FrontBar>\n      <Container className=\"container-form\">\n        <h2 className=\"title-form\">AGREGAR DOCUMENTO</h2>\n        <p>Ingresa los datos solicitados y luego presiona GUARDAR</p>\n        <Form>\n          <Form.Row>\n            <Form.Group as={Col} controlId=\"formGridState\">\n              <Form.Label>Entidad</Form.Label>\n              <Form.Control className =\"input-form\"\n                as=\"select\"\n                defaultValue=\"Choose...\"\n                onChange={handleEntity}\n              >\n                <option>Selecciona...</option>\n                <option>OSINERGMIN</option>\n                <option>OEFA</option>\n                <option>MINEM</option>\n              </Form.Control>\n            </Form.Group>\n\n            <Form.Group as={Col} controlId=\"formGridCity\">\n              <Form.Label>Número de Expediente</Form.Label>\n              <Form.Control\n                type=\"number\"\n                value={record}\n                onChange={handleRecord}\n                required\n                className =\"input-form\"\n              />\n            </Form.Group>\n\n            <Form.Group as={Col} controlId=\"formGridZip\">\n              <Form.Label>Tema</Form.Label>\n              <Form.Control value={topic} onChange={handleTopic} className =\"input-form\"  />\n            </Form.Group>\n          </Form.Row>\n\n          <Form.Group controlId=\"exampleForm.ControlTextarea1\">\n            <Form.Label>Motivo</Form.Label>\n            <Form.Control\n            className =\"input-form\"\n              as=\"textarea\"\n              rows={3}\n              value={reason}\n              onChange={handleReason}\n              required\n            />\n          </Form.Group>\n          <Form.Row>\n            <Form.Group as={Col} controlId=\"formGridState\">\n              <Form.Label>Area legal encargada</Form.Label>\n              <Form.Control\n                as=\"select\"\n                defaultValue=\"Choose...\"\n                onChange={handleArea}\n                className =\"input-form\"\n              >\n                <option>Selecciona...</option>\n                <option>TGP</option>\n                <option>COGA</option>\n              </Form.Control>\n            </Form.Group>\n\n            <Form.Group as={Col} controlId=\"formGridCity\">\n              <Form.Label>Fecha de recepción</Form.Label>\n              <Form.Control\n                type=\"date\"\n                value={expiredDate}\n                onChange={handleExpiredDate}\n                required\n                className =\"input-form\"\n              />\n            </Form.Group>\n\n            <Form.Group as={Col}>\n              <Form.Label>Fecha de vencimiento</Form.Label>\n              <Form.Control\n                type=\"date\"\n                value={nowDate}\n                onChange={handleNowDate}\n                required\n                className =\"input-form\"\n              />\n            </Form.Group>\n          </Form.Row>\n          <Form.Row>\n            <Form.Group as={Col} controlId=\"formGridState\">\n              <Form.Label>Otros</Form.Label>\n              <Form.Control\n                as=\"select\"\n                defaultValue=\"Choose...\"\n                onChange={handleOthers}\n                className =\"input-form\"\n              >\n                <option>Selecciona...</option>\n                <option>APORTES POR SU REGULACIÓN</option>\n                <option>DERRAME/ FUGA/ SINIESTRO</option>\n              </Form.Control>\n              {/* <Form.Control value={others} onChange={handleOthers} required className =\"input-form\"/> */}\n            </Form.Group>\n\n            <Form.Group as={Col} controlId=\"formGridCity\">\n              <Form.Label>Agregar etiqueta</Form.Label>\n              <Form.Control value={labels} onChange={handleLabels} required className =\"input-form\"/>\n            </Form.Group>\n\n            <Form.Group>\n              <Form.File\n                id=\"exampleFormControlFile1\"\n                label=\"Sube el documento\"\n                type=\"file\"\n                onChange={handleChange}\n              />\n            </Form.Group>\n          </Form.Row>\n\n          <Button\n            className=\"btn-form\"\n            variant=\"primary\"\n            disabled={\n              !file ||\n              !url ||\n              !entity ||\n              !record ||\n              !topic ||\n              !area ||\n              !nowDate ||\n              !expiredDate ||\n              !reason \n            }\n            onClick={handleSend}\n          >\n            Guardar\n          </Button>\n        </Form>\n      </Container>\n      </div>\n    </div>\n  );\n}\n",["30","31"],"/Users/usuario/Desktop/progbasic/Laboratoria/TGP/src/pages/home.jsx",[],"/Users/usuario/Desktop/progbasic/Laboratoria/TGP/src/components/frontbar.jsx",[],"/Users/usuario/Desktop/progbasic/Laboratoria/TGP/src/context/AuthContext.js",[],"/Users/usuario/Desktop/progbasic/Laboratoria/TGP/src/pages/documentDetail.jsx",[],{"ruleId":"32","severity":1,"message":"33","line":11,"column":8,"nodeType":"34","messageId":"35","endLine":11,"endColumn":11},{"ruleId":"32","severity":1,"message":"36","line":12,"column":8,"nodeType":"34","messageId":"35","endLine":12,"endColumn":12},{"ruleId":"37","replacedBy":"38"},{"ruleId":"39","replacedBy":"40"},"no-unused-vars","'add' is defined but never used.","Identifier","unusedVar","'user' is defined but never used.","no-native-reassign",["41"],"no-negated-in-lhs",["42"],"no-global-assign","no-unsafe-negation"]